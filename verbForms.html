<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerbForms - VocabFlash</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="data/verbForms.js" defer></script>
</head>
<body>

<h1>VocabFlash</h1>
<h2 id="inputCounter">Verb: 1 / 10</h2>

<div class="container">
       <table id="conjugationTable">
        <thead>
            <tr>
                <th>Pronoun</th>
                <th>Your Answer</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>je</td>
                <td><input type="text" id="inputJe"></td>
            </tr>
            <tr>
                <td>tu</td>
                <td><input type="text" id="inputTu"></td>
            </tr>
            <tr>
                <td>il/elle</td>
                <td><input type="text" id="inputIlElle"></td>
            </tr>
            <tr>
                <td>nous</td>
                <td><input type="text" id="inputNous"></td>
            </tr>
            <tr>
                <td>vous</td>
                <td><input type="text" id="inputVous"></td>
            </tr>
            <tr>
                <td>ils/elles</td>
                <td><input type="text" id="inputIlsElles"></td>
            </tr>
        </tbody>
    </table>
    
    <button id="submitConjugation" onclick="checkAnswers()">Submit Answers</button>
    <div id="feedback"></div>
</div>

<div class="container">
    <!-- Set Auswahl -->
    <label for="setSelect">Choose a verb set:</label>
    <select id="setSelect" onchange="updateVerbSet()">
        <option value="reg1">er-Verbs</option>
        <option value="cer">cer-Verbs</option>
        <option value="ger">ger-Verbs</option>
        <option value="doubl">doubl-Verbs</option>
        <option value="irreguler">Irregular Verbs</option>
        <!-- Weitere Sets hinzufügen -->
    </select>

    <label for="tenseSelect">Choose a tense:</label>
    <select id="tenseSelect" onchange="updateVerbSet()">
        <option value="present">Present</option>
        <option value="passe">Passé Composé</option>
        <option value="imparfait">Imparfait</option>
        <option value="mixed">mixed</option>
    </select>
    
    <button class="confirm-button" onclick="updateVerbSet()">Confirm</button>
    
    <!-- Zurück Links -->
    <br><a href="result.html">Show results</a><br>
    <a href="javascript:history.back()">Go back</a><br>
    <a href="index.html">Go back to homepage</a>
</div>

<!-- Skript -->
<script>
let currentSet = [];
let currentIndex = 0;
let wrongAttempts = 0;
let wrongAnswers = [];
let secondRound = false; // Flag für die zweite Runde
let timer;
let results = [];

    // Funktion zum Laden des Verbs in die Tabelle
function loadVerbForConjugation() {
    const selectedSet = document.getElementById('setSelect').value;
    const selectedTense = document.getElementById('tenseSelect').value;

    if (verbSets[selectedSet] && verbSets[selectedSet][selectedTense]) {
        const randomIndex = Math.floor(Math.random() * verbSets[selectedSet][selectedTense].length);
        const verb = verbSets[selectedSet][selectedTense][randomIndex];
        
        // Setze die Verbbezeichnung in der Tabelle
        const verbName = verb.verb; // oder wie auch immer dein Verb benannt ist
        const pronounMapping = {
            je: 'je',
            tu: 'tu',
            il: 'il/elle',
            nous: 'nous',
            vous: 'vous',
            ils: 'ils/elles'
        };

        // Fülle die Tabelle mit den Pronomen
        for (const pronoun in pronounMapping) {
            document.getElementById(`input${pronoun.charAt(0).toUpperCase() + pronoun.slice(1)}`).value = ''; // Leere die Eingabefelder
        }

        // Feedback zur aktuellen Verbbezeichnung (optional)
        console.log(`Loaded verb: ${verbName} for conjugation`);
    } else {
        console.error("Set or tense not found.");
    }
}

    // Funktion zur Überprüfung der Antworten
function checkAnswers() {
    const verb = "parler"; // Beispielverb, kann angepasst werden
    const correctAnswers = {
        je: conjugate({ verb: verb, group: "er" }, "present", "je"), // 'je parle'
        tu: conjugate({ verb: verb, group: "er" }, "present", "tu"), // 'tu parles'
        ilElle: conjugate({ verb: verb, group: "er" }, "present", "il"), // 'il/elle parle'
        nous: conjugate({ verb: verb, group: "er" }, "present", "nous"), // 'nous parlons'
        vous: conjugate({ verb: verb, group: "er" }, "present", "vous"), // 'vous parlez'
        ilsElles: conjugate({ verb: verb, group: "er" }, "present", "ils") // 'ils/elles parlent'
    };

    let feedbackMessage = '';

    // Überprüfen der Antworten
    for (const pronoun in correctAnswers) {
        const userInput = document.getElementById(`input${pronoun.charAt(0).toUpperCase() + pronoun.slice(1)}`).value.trim();
        if (userInput === correctAnswers[pronoun]) {
            feedbackMessage += `Correct for ${pronoun}: ${userInput}<br>`;
        } else {
            feedbackMessage += `Incorrect for ${pronoun}: ${userInput}. Correct answer: ${correctAnswers[pronoun]}<br>`;
        }
    }

    // Feedback anzeigen
    document.getElementById('feedback').innerHTML = feedbackMessage;
}


</script>
</body>
</html>
