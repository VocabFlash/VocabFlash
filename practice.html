<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Practise</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="data/vocabSets.js" defer></script>
</head>
<body>

<!-- Titel und Karteikartenbereich -->
<h1>VocabFlash</h1>
<h2>Flashcards Practice</h2>
        <div class="container">
        <h3 id="counter">Card: 1 / 10</h3>
        </div>


<!-- Der Bereich, wo die Karte angezeigt wird -->
<div id="flashcard" class="flashcard">
    <div id="vocabFront"></div>
    <div id="vocabBack"></div>
</div>

<!-- Buttons für Bewertung mit button-container für css -->
<div class="button-container">
    <button id="wrongButton" onclick="markWrong()" style="background-color: red; color: white; border-radius: 5px;">Wrong</button>&nbsp;
    <button id="correctButton" onclick="markCorrect()" style="background-color: green; color: white; border-radius: 5px;">Correct</button>
</div>

    
<div class="container">    
    <!-- Set Auswahl -->
    <label for="setSelect">Choose a set:</label>
    <select id="setSelect">
        <option value="set1">Set 1</option>
        <option value="set2">Set 2</option>
        <option value="set3">Set 3</option>
        <!-- Weitere Sets hinzufügen -->
    </select>
    <button class="confirm-button" onclick="updateVocabSet()">Confirm</button>
    <!-- Zurück Links -->
<br><a href="javascript:history.back()">Return</a><br>
<a href="index.html">Return to homepage</a>
</div>
<!--JAVA SKRIPT--> 
<script>
        let currentSet = [];
        let currentIndex = 0;
        let wrongAnswers = []; // Neue Liste für falsche Antworten
        
        // Funktion, um die Vokabeln aus dem ausgewählten Set anzuzeigen
        function displayFlashcard() {
        const vocabFront = document.getElementById('vocabFront');
        const vocabBack = document.getElementById('vocabBack');
        
        if (currentSet.length > 0) {
            const vocab = currentSet[currentIndex];
            vocabFront.innerHTML = vocab.de; // Vorderseite der Karte (Deutsch)
            vocabBack.innerHTML = vocab.ar; // Rückseite der Karte (Arabisch)
    
            // Rückseite ausblenden
            vocabBack.style.display = 'none'; // Standardmäßig die Rückseite ausblenden
    
            // Aktualisiere den Zähler
            document.getElementById('counter').innerText = `Card: ${currentIndex + 1} / ${currentSet.length}`;
        }
    }

        

    
  // Funktion für den "Wrong" Button
    function markWrong() {
        const vocabBack = document.getElementById('vocabBack');
        vocabBack.style.display = 'block'; // Rückseite anzeigen
        wrongAnswers.push(currentSet[currentIndex]); // Füge die falsche Antwort zur Liste hinzu
        currentIndex++; // Gehe zur nächsten Karte
        if (currentIndex < currentSet.length) {
            displayFlashcard(); // Zeigt die nächste Karte an
        } else {
            alert("End of the set reached. Incorrect answers are displayed again.");
            currentIndex = 0; // Setze den Index zurück
            currentSet = wrongAnswers; // Verwende die Liste der falschen Antworten
            wrongAnswers = []; // Leere die Liste für weitere Übungen
            displayFlashcard(); // Zeigt die erste Karte der falschen Antworten an
        }
    }

    // Funktion, um das ausgewählte Set zu aktualisieren
    function updateVocabSet() {
        const selectedSet = document.getElementById('setSelect').value;
        currentSet = vocabSets[selectedSet]; // Das ausgewählte Set laden
        currentIndex = 0; // Startindex zurücksetzen
        displayFlashcard(); // Zeigt die erste Karte an
    }
// Funktion für den "Correct" Button
function markCorrect() {
    currentIndex++; // Gehe zur nächsten Karte
    if (currentIndex < currentSet.length) {
        displayFlashcard(); // Zeigt die nächste Karte an
    } else {
        // Überprüfe, ob es noch falsche Antworten gibt
        if (wrongAnswers.length > 0) {
            alert("There are still incorrect answers. Those will now be requested.");
            currentIndex = 0; // Setze den Index zurück
            currentSet = wrongAnswers; // Verwende die Liste der falschen Antworten
            wrongAnswers = []; // Leere die Liste für weitere Übungen
            displayFlashcard(); // Zeigt die erste Karte der falschen Antworten an
        } else {
            alert("Practise completed");
            currentIndex = 0; // Setze den Index zurück für die nächste Übung
            updateVocabSet(); // Optional: Aktualisiere das Set, um wieder zu starten
        }
    }
}


      // Funktion zum Mischen eines Arrays
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]]; // Elemente vertauschen
        }
        return array;
    }

// Klick auf die Flashcard, um sie zu drehen
document.getElementById('flashcard').addEventListener('click', function() {
    const vocabFront = document.getElementById('vocabFront');
    const vocabBack = document.getElementById('vocabBack');
    
    // Toggle zwischen Vorder- und Rückseite
    if (vocabBack.style.display === 'none') {
        vocabBack.style.display = 'block'; // Rückseite anzeigen
        vocabFront.style.display = 'none'; // Vorderseite ausblenden
    } else {
        vocabBack.style.display = 'none'; // Rückseite ausblenden
        vocabFront.style.display = 'block'; // Vorderseite anzeigen
    }
});

    // Initiales Set anzeigen
    window.onload = function() {
        updateVocabSet(); // Zeigt beim ersten Laden das Standardset an
    };
</script>


</body>
</html>
