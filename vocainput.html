<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Vokabel Eingabe</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="data/vocabSets.js" defer></script>
</head>
<body>

<h1>VocabFlash</h1>
<h2 id="inputCounter">Wort: 1 / 10</h2>  <!-- Zähler für die Eingabemethode -->
<!-- Set Auswahl -->
<label for="setSelect">Choose a set:</label>
<select id="setSelect">
    <option value="set1">Set 1</option>
    <option value="set2">Set 2</option>
    <!-- Weitere Sets hinzufügen -->
</select>
<button onclick="updateVocabSet()">Bestätigen</button>

<!-- Bereich für die Vokabelabfrage -->
<div id="vocabArea">
    <h3 id="vocabWord"></h3>
    <input type="text" id="userInput" placeholder="Gib die Übersetzung ein">
    <button id="submitAnswer" onclick="checkAnswer()">Antwort überprüfen</button>
</div>
<p id="feedback"></p> <!-- Feedback-Element hinzufügen -->


<!--SKRIPT-->
<script>
let currentSet = [];
let currentIndex = 0;
let wrongAttempts = 0; // Variable für falsche Versuche
let wrongAnswers = []; // Liste für falsche Antworten

    
// Funktion, um die Vokabeln aus dem ausgewählten Set anzuzeigen
function displayVocabWord() {
    const vocabWord = document.getElementById('vocabWord');
    const inputCounter = document.getElementById('inputCounter'); // Zähler-Element

    if (currentSet.length > 0) {
        const vocab = currentSet[currentIndex];
        vocabWord.innerText = vocab.de; // Zeige das deutsche Wort an

        // Aktualisiere den Zähler
        inputCounter.innerText = `Wort: ${currentIndex + 1} / ${currentSet.length}`;
    }
}


// Funktion, um das ausgewählte Set zu aktualisieren
function updateVocabSet() {
    const selectedSet = document.getElementById('setSelect').value;
    currentSet = vocabSets[selectedSet]; // Das ausgewählte Set laden
    currentIndex = 0; // Startindex zurücksetzen
    displayVocabWord(); // Zeigt das erste Wort an
}

// Funktion, um die Benutzerantwort zu überprüfen
function checkAnswer() {
    const userInput = document.getElementById('userInput').value; // Eingabewert
    const currentWord = currentSet[currentIndex]; // Aktuelles Wort

    if (userInput.toLowerCase() === currentWord.ar.toLowerCase()) {
        // Richtige Antwort
        feedback.innerText = "Richtig!";
        currentIndex++; // Gehe zur nächsten Karte

        // Zurücksetzen der falschen Versuche
        wrongAttempts = 0; 

        if (currentIndex < currentSet.length) {
            displayFlashcard(); // Zeigt die nächste Karte an
        } else {
            alert("Übung abgeschlossen!");
            // Optional: Setze Index zurück oder gehe zu einem anderen Schritt
        }
    } else {
        // Falsche Antwort
        wrongAttempts++; // Zähler erhöhen
        feedback.innerText = "Falsch! Versuche es erneut.";

        if (wrongAttempts === 2) {
            // Lösung anzeigen, wenn 2 falsche Versuche
            feedback.innerText = `Die richtige Antwort ist: ${currentWord.ar}`;
            wrongAnswers.push(currentWord); // Füge das Wort zur Liste der falschen Antworten hinzu
            currentIndex++; // Gehe zur nächsten Karte

            // Zurücksetzen der falschen Versuche
            wrongAttempts = 0; 

            if (currentIndex < currentSet.length) {
                displayVocabWord(); // Zeigt die nächste Wort an
            } else {
                alert("Übung abgeschlossen!");
                // Optional: Setze Index zurück oder gehe zu einem anderen Schritt
            }
        }
    }

    // Eingabefeld zurücksetzen
    document.getElementById('userInput').value = '';
}


// Initiales Set anzeigen
window.onload = function() {
    updateVocabSet(); // Zeigt beim ersten Laden das Standardset an
};

</script>


<!-- Zurück Links -->
<br><a href="javascript:history.back()">Zurück</a><br>
<a href="index.html">Zurück zur Homepage</a>
<!--Ende HTML-->
</body>
</html>
